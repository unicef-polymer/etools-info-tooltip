<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-tooltip/paper-tooltip.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../neon-animation/web-animations.html">
<!--
`etools-info-tooltip`

Info tooltip element

### Styling

You can use `paper-tooltip` and element variables and mixins to change tooltip style.

Custom property | Description | Default
----------------|-------------|----------
`--paper-tooltip-background` | Tooltip background | `#ffffff`
`--paper-tooltip-opacity` | Tooltip opacity | `1`
`--paper-tooltip-text-color` | Tooltip text color | `var(--primary-text-color, rgba(0, 0, 0, 0.87)`
`--paper-tooltip` | Tooltip mixin | `{box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);border: 1px solid rgba(0, 0, 0, 0.15);border-radius: 4px;}`
`--etools-tooltip-trigger-icon` | Mixin applied to the icon that triggers tooltip open | `{}`


You can use `importantWarning` property and `icon` property to make the field style look like a warning
(using `--error-color` var) on the UI.

@demo demo/index.html 
-->

<dom-module id="etools-info-tooltip">
  <template>
    <style>
      [hidden] {
        display: none !important;
      }
      :host {
        --tooltip-box-style: {
          text-align: center;
          line-height: 1.4;
        };
        --light-tooltip-style: {
          -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
          -moz-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
          border: 1px solid rgba(0, 0, 0, 0.15);
        };
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }

      :host([theme="light"]) {
        --paper-tooltip-background: var(--primary-background-color, #ffffff);
        --paper-tooltip-opacity: 1;
        --paper-tooltip-text-color: var(--primary-text-color, rgba(0, 0, 0, 0.87));

        --paper-tooltip: {
          @apply(--tooltip-box-style);
          @apply(--light-tooltip-style);
        };
      }

      iron-icon {
        margin-left: 16px;
        @apply(--etools-tooltip-trigger-icon);
      }

      :host([important-warning]) {
        color: var(--error-color, #e54f2e);
      }
    </style>
    <!-- element assigned to this tooltip -->
    <slot name="field"></slot>
    <iron-icon id="tooltip-trigger" icon="[[icon]]" hidden$="[[hideTooltip]]"></iron-icon>
    <paper-tooltip for="tooltip-trigger" position="[[position]]">
      <slot name="message"></slot>
    </paper-tooltip>
  </template>

  <script>
    Polymer({

      is: 'etools-info-tooltip',

      properties: {
        position: {
          type: String,
          value: 'top'
        },
        icon: {
          type: String,
          value: 'info-outline'
        },
        hideTooltip: Boolean,
        importantWarning: {
          type: Boolean,
          value: false,
          reflectToAttribute: true,
          observer: '_refreshStyles'
        },
        theme: {
          type: String,
          value: 'dark',
          reflectToAttribute: true,
          observer: '_refreshStyles'
        }
      },
      _refreshStyles: function() {
        this.updateStyles();
      }
    });
  </script>
</dom-module>
